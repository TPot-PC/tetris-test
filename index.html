<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game Boy Tetris</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div id="title-screen">
        <div class="title-content">
            <img src="title.png" alt="TETRIS 2025 makogemes" class="title-image">
            <p class="blink start-text-overlay">CLICK START</p>
        </div>
    </div>

    <div id="instructions-screen" style="display: none;">
        <div class="instructions-content">
            <h2>HOW TO PLAY</h2>

            <div class="control-section">
                <h3>KEYBOARD</h3>
                <div class="key-map">
                    <p><span>ARROWS</span> : MOVE / DROP</p>
                    <p><span>Z / X</span> : ROTATE</p>
                    <p><span>ENTER</span> : PAUSE</p>
                </div>
            </div>

            <div class="control-section">
                <h3>SCREEN</h3>
                <div class="key-map">
                    <p><span>D-PAD</span> : MOVE / DROP</p>
                    <p><span>A / B</span> : ROTATE</p>
                    <p><span>START</span> : PAUSE</p>
                </div>
            </div>

            <p class="blink">CLICK TO CONTINUE</p>
        </div>
    </div>

    <div id="password-screen" style="display: none;">
        <div class="password-container">
            <h1>TETRIS</h1>
            <p>ENTER PASSWORD</p>
            <input type="password" id="password-input" placeholder="Password">
            <button id="password-submit">START GAME</button>
            <p id="error-message" style="color: red; display: none;">INVALID PASSWORD</p>
        </div>
    </div>

    <div id="game-screen" style="display: none;">
        <div id="gameboy">
            <div id="screen-bezel">
                <div id="power-led"></div>
                <div id="screen-cover">
                    <canvas id="game-canvas" width="160" height="144"></canvas>

                    <!-- Modals inside screen-cover for relative positioning -->
                    <div id="name-input-modal" class="modal" style="display: none;">
                        <div class="modal-content">
                            <h2>NEW RECORD!</h2>
                            <p>ENTER NAME</p>
                            <!-- Hidden input for compatibility if needed, but we use custom UI -->
                            <input type="text" id="player-name" maxlength="3" placeholder="AAA" style="display: none;">
                            <div id="name-entry-container">
                                <span class="char-slot" id="char-0">A</span>
                                <span class="char-slot" id="char-1">A</span>
                                <span class="char-slot" id="char-2">A</span>
                            </div>
                            <button id="submit-score-btn" style="display: none;">END</button>
                        </div>
                    </div>

                    <div id="leaderboard-modal" class="modal" style="display: none;">
                        <div class="modal-content">
                            <h2>RANKING</h2>
                            <div id="leaderboard-list">
                                <!-- Leaderboard items will be injected here -->
                            </div>
                        </div>
                    </div>
                </div>
                <div id="logo">NINTENDO GAME BOY</div>
            </div>
            <div id="controls">
                <div id="d-pad">
                    <div class="d-pad-h"></div>
                    <div class="d-pad-v"></div>
                </div>
                <div id="action-buttons">
                    <div class="button-container">
                        <div class="button" id="btn-b"></div>
                        <div class="label">B</div>
                    </div>
                    <div class="button-container">
                        <div class="button" id="btn-a"></div>
                        <div class="label">A</div>
                    </div>
                </div>
                <div id="option-buttons">
                    <div class="option-button-container">
                        <div class="option-button" id="btn-select"></div>
                        <div class="label">SELECT</div>
                    </div>
                    <div class="option-button-container">
                        <div class="option-button" id="btn-start"></div>
                        <div class="label">START</div>
                    </div>
                </div>
            </div>
            <div id="speaker">
                <div class="speaker-slot"></div>
                <div class="speaker-slot"></div>
                <div class="speaker-slot"></div>
                <div class="speaker-slot"></div>
                <div class="speaker-slot"></div>
                <div class="speaker-slot"></div>
            </div>
        </div>

        <div class="controls-hint">
            <p>ARROWS: MOVE/DROP</p>
            <p>Z/X: ROTATE</p>
        </div>
    </div>
    <script type="module" src="src/main.js"></script>
</body>

</html>